# ============================================================================
# SENTINEL AI SECURITY - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update values as needed
# cp .env.example .env

# ============================================================================
# API SERVER CONFIGURATION
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000

# ============================================================================
# POSTGRESQL CONFIGURATION (Audit Log Persistence)
# ============================================================================
POSTGRES_ENABLED=true
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=sentinel
POSTGRES_USER=sentinel_user
POSTGRES_PASSWORD=sentinel_password

# ============================================================================
# REDIS CONFIGURATION (Session State & Caching)
# ============================================================================
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# SENTINEL SECURITY FEATURES
# ============================================================================
# PII Detection
ENABLE_PII_DETECTION=true
PII_BLOCK_THRESHOLD=0.7
PII_REDACTION_ENABLED=true

# Injection Detection
ENABLE_INJECTION_DETECTION=true
INJECTION_BLOCK_THRESHOLD=0.8

# Content Moderation
ENABLE_CONTENT_MODERATION=true
TOXICITY_WARN_THRESHOLD=0.5
TOXICITY_BLOCK_THRESHOLD=0.7

# Output Guard
ENABLE_OUTPUT_GUARD=true
LEAK_DETECTION_ENABLED=true

# State Monitoring
ENABLE_STATE_MONITORING=true
MAX_TOOL_CALLS=50
MAX_COST_USD=1.0

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# ============================================================================
# PGADMIN (PostgreSQL Web UI - Optional)
# ============================================================================
PGADMIN_EMAIL=admin@sentinel.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# ============================================================================
# REDIS COMMANDER (Redis Web UI - Optional)
# ============================================================================
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin
REDIS_COMMANDER_PORT=8081

# ============================================================================
# SPACY MODELS (NLP for PII Detection)
# ============================================================================
# Download required models:
# python -m spacy download en_core_web_sm
SPACY_MODEL=en_core_web_sm

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=INFO
ENABLE_METRICS=true
ENABLE_TRACING=false

# ============================================================================
# SAAS PLATFORM CONFIGURATION (Phase 1-3)
# ============================================================================

# Database Connection String (Auto-generated from PostgreSQL config)
DATABASE_URL=postgresql://sentinel_user:sentinel_password@localhost:5432/sentinel

# JWT Authentication (CRITICAL: Generate secure key before production!)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
JWT_SECRET_KEY=your-super-secret-key-change-in-production-GENERATE-NEW-KEY
JWT_SECRET_KEY_PREVIOUS=  # Optional: For key rotation support
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Celery Background Jobs (Report Generation)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# CORS Configuration
FRONTEND_URL=http://localhost:5173/api/v1

# Frontend Port
FRONTEND_PORT=5173
VITE_API_URL=http://localhost:8000/api/v1

# ============================================================================
# EMAIL SERVICE CONFIGURATION
# ============================================================================
# Email Provider: "ses" (AWS SES) or "smtp" (SMTP server)
EMAIL_PROVIDER=smtp

# AWS SES Configuration (Production)
# Uncomment and configure for production:
# AWS_SES_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key-id
# AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
# AWS_SES_FROM_EMAIL=noreply@sentinel.ai
# AWS_SES_FROM_NAME=Sentinel Security

# SMTP Configuration (Development - using MailHog)
# MailHog runs in Docker and provides a web UI at http://localhost:8025
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=false

# Email Settings
EMAIL_LOGO_URL=https://sentinel.ai/logo.png
EMAIL_SUPPORT_EMAIL=support@sentinel.ai

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
ENVIRONMENT=development
DEBUG=true
RELOAD=true  # Auto-reload on code changes (dev only)
